<!DOCTYPE html>
<html>
  <head>
    <title>pdjr-skwebapp-switch-monitor</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <script type="text/javascript" src="lib/page-utils/PageUtils.js"></script>
    <script type="text/javascript" src="lib/pdjr-skwidget-signalkclient/SignalkClient.js"></script>
    <script type="text/javascript" src="lib/pdjr-skwidget-alarm-popup/AlarmPopup.js"></script>
    <script type="text/javascript" src="lib/pdjr-skwidget-switch-monitor/SwitchMonitorWidget.js"></script>

    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" type="text/css" href="lib/pdjr-skwidget-alarm-popup/AlarmPopup.css">
    <link rel="stylesheet" type="text/css" href="lib/pdjr-skwidget-switch-monitor/SwitchMonitorWidget.css">
  </head>
  <script>
    function init() {
      PageUtils.noRightClick();
      var signalkClient = SignalkClient.install();
      signalkClient.waitForConnection().then(
        () => {
          AlarmPopup.install(signalkClient);
          SwitchMonitorWidget.install(signalkClient);
        },
        () => {
          console.log("error initialising Signal K client library");
        }
      );
    }
  </script>
  <body onload="init();">
  </body>
</html>
